
\newpage
\subsection{td\_rebalance\_node}
\subsubsection{Declaration} Function prototype:

\begin{verbatim}
extern
int td_rebalance_node
  (
    td_t* td,
    unsigned parentptr,
    struct keyhead* parentnode,
    unsigned ptr,
    unsigned* weight
  );
\end{verbatim}

\subsubsection{Description}


 ingroup btree\_private

 Rebalances a node by shifting weight away from the heavier child.
 Recursive function.
 First determines weight by accessing the children, then shift them
 if the children are out of balance and it can be fixed (i.e. the
 difference in weight between them is bigger than one).

 param td Non-NULL pointer to an initialized btree structure.
 param[in] parentptr Offset of the parent key node.
 param[in] parentnode Key header of the parent node.
 param[in] ptr Offset of the key node itself.
 param[out] weight Filled with the added weight of the children + 1
 on return.

 returns Zero on success, or a TDERR\_* value on error.
 

\subsubsection{Parameters}
\subsubsection{Returns}
\subsubsection{Called by}
